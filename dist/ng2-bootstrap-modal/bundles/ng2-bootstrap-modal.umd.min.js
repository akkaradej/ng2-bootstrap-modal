!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs")):"function"==typeof define&&define.amd?define("ng2-bootstrap-modal",["exports","@angular/core","@angular/common","rxjs"],t):t((e=e||self)["ng2-bootstrap-modal"]={},e.ng.core,e.ng.common,e.rxjs)}(this,(function(e,t,o,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}var r=function(){function e(e){this.resolver=e,this.dialogClose=new t.EventEmitter}return e.prototype.addComponent=function(e){var o=this.resolver.resolveComponentFactory(e),n=t.ReflectiveInjector.fromResolvedProviders([],this.element.injector),i=o.create(n);return this.element.insert(i.hostView),this.content=i.instance,this.content.wrapper=this,this.content},e.prototype.closeByClickOutside=function(){var e=this,t=this.container.nativeElement;t.querySelector(".modal-content").addEventListener("click",(function(e){e.stopPropagation()})),t.addEventListener("click",(function(){e.dialogClose.emit()}),!1)},e.ctorParameters=function(){return[{type:t.ComponentFactoryResolver}]},i([t.Output()],e.prototype,"dialogClose",void 0),i([t.ViewChild("element",{read:t.ViewContainerRef})],e.prototype,"element",void 0),i([t.ViewChild("container")],e.prototype,"container",void 0),e=i([t.Component({selector:"dialog-wrapper",template:'\n    <div #container class="modal fade" style="display:block !important;" role="dialog">\n        <ng-template #element></ng-template>\n    </div>\n'})],e)}(),a=function(){function e(e){this.resolver=e,this.dialogs=[]}return e.prototype.addDialog=function(e,t,o){var n=this;o=o||{};var i=this.resolver.resolveComponentFactory(r),a=this.element.createComponent(i,o.index).instance,l=a.addComponent(e);return l.wrapper.dialogClose.subscribe((function(){n.removeDialog(l)})),void 0!==o.index?this.dialogs.splice(o.index,0,l):this.dialogs.push(l),setTimeout((function(){a.container.nativeElement.classList.add("show"),a.container.nativeElement.classList.add("in")})),o.autoCloseTimeout&&setTimeout((function(){n.removeDialog(l)}),o.autoCloseTimeout),o.closeByClickingOutside&&a.closeByClickOutside(),o.backdropColor&&(a.container.nativeElement.style.backgroundColor=o.backdropColor),l.fillData(t)},e.prototype.removeDialog=function(e){var t=this,o=e.wrapper.container.nativeElement;o.classList.remove("show"),o.classList.remove("in"),setTimeout((function(){t._removeElement(e)}),300)},e.prototype._removeElement=function(e){var t=this.dialogs.indexOf(e);t>-1&&(this.element.remove(t),this.dialogs.splice(t,1))},e.prototype.clear=function(){this.element.clear(),this.dialogs=[]},e.ctorParameters=function(){return[{type:t.ComponentFactoryResolver}]},i([t.ViewChild("element",{read:t.ViewContainerRef})],e.prototype,"element",void 0),e=i([t.Component({selector:"dialog-holder",template:"<ng-template #element></ng-template>"})],e)}(),l=function(){this.container=null},s=function(){function e(e,t,o,n){this.resolver=e,this.applicationRef=t,this.injector=o,this.container=n&&n.container}var o,n;return e.prototype.addDialog=function(e,t,o){return this.dialogHolderComponent||(this.dialogHolderComponent=this.createDialogHolder()),this.dialogHolderComponent.addDialog(e,t,o)},e.prototype.removeDialog=function(e){this.dialogHolderComponent&&this.dialogHolderComponent.removeDialog(e)},e.prototype.removeAll=function(){this.dialogHolderComponent.clear()},e.prototype.createDialogHolder=function(){var e=this,t=this.resolver.resolveComponentFactory(a).create(this.injector),o=t.hostView.rootNodes[0];if(!this.container){var n=this.applicationRef.components[0];this.container=n.hostView.rootNodes[0]}return this.applicationRef.attachView(t.hostView),t.onDestroy((function(){e.applicationRef.detachView(t.hostView)})),this.container.appendChild(o),t.instance},e.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.ApplicationRef},{type:t.Injector},{type:l,decorators:[{type:t.Optional}]}]},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e(t["ɵɵinject"](t.ComponentFactoryResolver),t["ɵɵinject"](t.ApplicationRef),t["ɵɵinject"](t.INJECTOR),t["ɵɵinject"](l,8))},token:e,providedIn:"root"}),e=i([t.Injectable({providedIn:"root"}),(o=3,n=t.Optional(),function(e,t){n(e,t,o)})],e)}();function c(e,t,o,n){return new s(e,t,o,n)}var p=function(){function e(){}var n;return n=e,e.forRoot=function(e){return{ngModule:n,providers:[{provide:l,useValue:e},{provide:s,useFactory:c,deps:[t.ComponentFactoryResolver,t.ApplicationRef,t.Injector,l]}]}},e=n=i([t.NgModule({declarations:[a,r],providers:[s],imports:[o.CommonModule],entryComponents:[a,r]})],e)}(),d=function(){function e(e){this.dialogService=e}return e.prototype.fillData=function(e){var t=this;e=e||{};for(var o=Object.keys(e),i=0,r=o.length;i<r;i++){var a=o[i];this[a]=e[a]}return n.Observable.create((function(e){return t.observer=e,function(){t.close()}}))},e.prototype.close=function(){this.dialogService.removeDialog(this)},e.prototype.ngOnDestroy=function(){this.observer&&this.observer.next(this.result)},e}();e.BootstrapModalModule=p,e.DialogComponent=d,e.DialogService=s,e.DialogServiceConfig=l,e.dialogServiceFactory=c,e.ɵa=a,e.ɵb=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-bootstrap-modal.umd.min.js.map